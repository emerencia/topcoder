<style type="text/css"> pre {  white-space: pre-wrap;       white-space: -moz-pre-wrap;   white-space: -pre-wrap;  white-space: -o-pre-wrap;    word-wrap: break-word;  } </style>
<html><body bgcolor="#ffffff" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>The first mall of the kingdom is about to be inaugurated in a few days. The king wants to make sure that the mall is highly secured.<br></br>
<br></br>
The mall has <b>N</b> floors, numbered 1 to <b>N</b>. Each floor has stations which allow people to enter or leave the floor to which the station belongs. All escalators in the mall begin and end at stations of adjacent floors. To make movement of people easier, super-escalators connect stations in floor 1 to stations in floor N. Each escalator or super-escalator can be used to go upwards as well as downwards. If the i-th floor has K<sub>i</sub> stations then the stations are numbered from 1 to K<sub>i</sub>. The escalators and super-escalators are constructed in such a way that a person can reach any station from any other station using them.<br></br>
<br></br>
The king wants to have as many guards in the mall as possible to make it secure. Guards can only be placed at stations and at most 1 guard can be placed at a station. Moreover, the people of the kingdom become panicky if they see more than one guard at a time. Hence, there should be no such escalator (or super-escalator) such that guards are placed at both its end stations.<br></br>
<br></br>
You are given a vector &lt;string&gt; <b>escDescription</b> which when concatenated represents a comma (',') separated list of escalators and super-escalators. Every escalator (or super-escalator) is of the form "A B C". If C is less than <b>N</b>, the string represents an escalator from station A of floor C, to station B of floor C+1. If C is equal to <b>N</b>, then the string represents a super-escalator from station A of floor C (= <b>N</b>), to station B of floor 1. Help the king by returning the maximum number of guards he can place in the mall.<br></br></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>MallSecurity</td></tr><tr><td>Method:</td><td>maxGuards</td></tr><tr><td>Parameters:</td><td>int, vector &lt;string&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int maxGuards(int N, vector &lt;string&gt; escDescription)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be between 10 and 50, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>The total number of stations in the mall will not exceed 100.</td></tr><tr><td align="center" valign="top">-</td><td><b>escDescription</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>escDescription</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>The concatenation of the elements of <b>escDescription</b> will be a comma separated list of escalators and super-escalators.</td></tr><tr><td align="center" valign="top">-</td><td>Each escalator and super-escalator will be given as "A B C" (quotes for clarity), where A, B and C are positive integers with no leading zeros.</td></tr><tr><td align="center" valign="top">-</td><td>In each escalator and super-escalator description, A will be a valid number of station located on floor C.</td></tr><tr><td align="center" valign="top">-</td><td>In each escalator and super-escalator description, B will be a valid number of station located on floor C + 1 (or on floor 1, if C = <b>N</b>).</td></tr><tr><td align="center" valign="top">-</td><td>In each escalator and super-escalator description, C will be between 1 and <b>N</b>, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each floor will have at least 1 station.</td></tr><tr><td align="center" valign="top">-</td><td>The stations on each floor will be numbered from 1 to K, inclusive, where K is the total number of stations on this floor.</td></tr><tr><td align="center" valign="top">-</td><td>Each pair of stations will be connected with at most one escalator or super-escalator.</td></tr><tr><td align="center" valign="top">-</td><td>It will be possible to reach any station from any other station using escalators and super-escalators.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>10</pre></td></tr><tr><td><pre>{&quot;1 1 1,1 1 2,1 1 3,1 1 4,1 1 5,1 1 6,1 1 7,1 1 8,1 &quot;, 
 &quot;1 9,1 1 10&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2">There are 10 floors and each floor has only one station. The stations on adjacent floors are connected with escalators. The stations on floor 1 and on floor 10 are connected with a super-escalator. You can place 5 guards on stations of the following floors: 1, 3, 5, 7 and 9. Another solution is to place them on floors 2, 4, 6, 8, 10.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>11</pre></td></tr><tr><td><pre>{&quot;1 1 1,1 1 2,1 1 3,1 1 4,1 1 5,1 1 6,1 1 7,1 1 8,1 &quot;, 
 &quot;1 9,1 1 10&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 6</pre></td></tr><tr><td><table><tr><td colspan="2">This time there are 11 floors and there's no super-escalator. You can place 6 guards on stations of the following floors: 1, 3, 5, 7, 9, 11.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>10</pre></td></tr><tr><td><pre>{&quot;1 1 7,1 2 9,2 1&quot;, 
 &quot; 8,1 2 6,1 1 8,1 2 3,1 2 2,2 &quot;, 
 &quot;2 4,1 1 1,2 1 2,3 2 3,1 1 5,2 1 1,4 &quot;, 
 &quot;1 7,1 1 10,3 2 5,1 2 5,3 3 1,&quot;, 
 &quot;3 2 8,3 1 2,1 1 3,4 4 2,2&quot;, 
 &quot; 4 6,4 2 5,2 3 3,6 4 1,5 2 8,1 3 6,1 3 7,&quot;, 
 &quot;4 3 8,1 3 8,5 2 3,4 2 8,2 6 7,1 3 9,&quot;, 
 &quot;1 1 4,6 1 1,2 3 1,5 1 5,6 1 8,5 &quot;, 
 &quot;2 2,3 2 10,3 3 9,1 5 2,4 1 1,1 5 10&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 25</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
