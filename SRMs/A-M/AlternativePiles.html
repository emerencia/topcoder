<style type="text/css"> pre {  white-space: pre-wrap;       white-space: -moz-pre-wrap;   white-space: -pre-wrap;  white-space: -o-pre-wrap;    word-wrap: break-word;  } </style>
<html><body bgcolor="#ffffff" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Slow loris Guts is playing with N cards, numbered 0 through N-1. Each card has one of four colors: red, green, blue, or white. You are given the card colors as the string <b>C</b>. For each i, character i of <b>C</b> is one of 'R' (red), 'G' (green), 'B' (blue), and 'W' (white).
<br></br><br></br>
You are also given an int <b>M</b>.
<br></br><br></br>
Guts wants to color each white card red, green, or blue in such a way that the number of cards <i>not</i> colored blue is exactly 2*D*<b>M</b> for some non-negative integer D. Additionally, there must be exactly <b>M</b> sequences of integers S_0 through S_{<b>M</b>-1} with the following properties:
<br></br>
<ul>
<li>For each i, the sequence S_i contains exactly 2*D integers, each of them between 0 and <b>N</b>-1, inclusive.</li>
<li>For each i, the sequence S_i is strictly increasing. That is, S_i[0] &lt; S_i[1] &lt; ... &lt; S_i[2*D-1].</li>
<li>For each i and each even j, the card S_i[j] is red.</li>
<li>For each i and each odd j, the card S_i[j] is green.</li>
<li>No two sequences share a common element. Hence, for each index x of a non-blue card there is precisely one pair (i,j) such that S_i[j]=x.</li>
</ul>
Return the number of valid ways to color all white cards, modulo 1,000,000,007.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>AlternativePiles</td></tr><tr><td>Method:</td><td>count</td></tr><tr><td>Parameters:</td><td>string, int</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int count(string C, int M)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>C</b> will contain between 1 and 5,000 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each character of <b>C</b> will be 'R', 'G', 'B' or 'W'.</td></tr><tr><td align="center" valign="top">-</td><td><b>M</b> will be between 1 and 50, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;WRGWWRGW&quot;</pre></td></tr><tr><td><pre>2</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2">There are three valid colorings: "RRGRGRGG", "RRGGRRGG", and "BRGBBRGB".
<br></br>
For "RRGRGRGG", we have D=2 and one possibility is to select S_0 = {0,2,3,7} and S_1 = {1,4,5,6}.
<br></br>
For "BRGBBRGB", we have D=1 and to show that this is a valid coloring we let S_0 = {5,6} and S_1 = {1,2}.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;RRGG&quot;</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">There is no valid way.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;BBBB&quot;</pre></td></tr><tr><td><pre>5</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">Note that D can be zero. Also, note that even though there are no white cards in this test case, there is a valid way to color all white cards: we do nothing and keep the colors we currently have.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW&quot;</pre></td></tr><tr><td><pre>50</pre></td></tr></table></td></tr><tr><td><pre>Returns: 265470435</pre></td></tr><tr><td><table><tr><td colspan="2">Do not forget to calculate the answer modulo 10^9 + 7.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;WRWRGWWGWWWRWBWRWGWWRWBWWRGWBWGRGWWGWGRWGRWBRWBW&quot;</pre></td></tr><tr><td><pre>7</pre></td></tr></table></td></tr><tr><td><pre>Returns: 7400348</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
