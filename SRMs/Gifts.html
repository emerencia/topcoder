<style type="text/css"> pre {  white-space: pre-wrap;       white-space: -moz-pre-wrap;   white-space: -pre-wrap;  white-space: -o-pre-wrap;    word-wrap: break-word;  } </style>
<html><body bgcolor="#ffffff" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>The king loves his queen a lot. The king wants to give a pleasant surprise to his queen and thus he wants to collect gifts for her.<br></br>
<br></br>
You are given a vector &lt;string&gt; <b>city</b> which represents a rectangular grid where the j-th character in the i-th element of <b>city</b> is the description of the cell in row i and column j of the grid. Each cell can be of one of the following types:<br></br>
<ul>
<li>'.' - Passable cell.</li>
<li>'#' - Unpassable cell.</li>
<li>'K' - The initial position of the king.</li>
<li>'Q' - The position of the queen.</li>
<li>'G' - Cell with a gift.</li>
</ul>
Note that the cells in which the king, queen and gifts are present are also passable cells.<br></br>
<br></br>
The king can move from one cell to another if and only if both the cells are passable cells and they share a common edge (diagonal moves are not allowed). It takes the king (g+1) time units to go from a passable cell to an adjacent passable cell when the king is carrying g gifts. If the cell contains a gift then the king may collect the gift (but he doesn't have to collect it). The king does not need any additional time to collect the gift.<br></br>
<br></br>
The king starts his trip in his initial cell. He then moves in arbitrary horizontal and vertical steps through passable cells to collect some gifts (possibly zero) and finishes the trip in the cell of the queen. The total time spent for the trip must not exceed <b>T</b> time units because the queen eagerly awaits the king. Return the maximum number of gifts the king can collect for the queen during such a trip. You may assume that it's always possible for the king to finish the trip within <b>T</b> time units.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>Gifts</td></tr><tr><td>Method:</td><td>maxGifts</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;, int</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int maxGifts(vector &lt;string&gt; city, int T)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>The king can visit any cell multiple times during the trip.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>city</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>city</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>All elements of <b>city</b> will have the same length.</td></tr><tr><td align="center" valign="top">-</td><td>Each character in <b>city</b> will be '.', '#', 'K', 'Q' or 'G'.</td></tr><tr><td align="center" valign="top">-</td><td>There will be exactly one 'K' character and one 'Q' character in <b>city</b>.</td></tr><tr><td align="center" valign="top">-</td><td>The number of 'G' characters in <b>city</b> will be between 0 and 16, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>T</b> will be between 1 and 1000000000, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;#######&quot;,
 &quot;#K.G.Q#&quot;,
 &quot;#######&quot;}</pre></td></tr><tr><td><pre>6</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">The king collects the gift and then goes to the queen. It takes him 2 time units to reach the gift and 4 time units to reach the queen after collecting the gift (since every move takes 2 time units after he has collected the gift). Hence, the king can collect 1 gift and reach the queen in 2 + 4 = 6 time units. </td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;#######&quot;,
 &quot;#K.G.Q#&quot;,
 &quot;#######&quot;}</pre></td></tr><tr><td><pre>4</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">The king does not have enough time to collect the gift, so he chooses not to collect the gift even though he passes through that cell. </td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;#######&quot;,
 &quot;#K.Q.G#&quot;,
 &quot;#######&quot;}</pre></td></tr><tr><td><pre>6</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">It will take the king 4 time units to reach the gift and collect it. Then another 4 time units to reach the queen after collecting the gift. But he does not have 4 + 4 = 8 time units. Hence, he goes to the queen without any gifts. </td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;#######&quot;,
 &quot;#K.Q.G#&quot;,
 &quot;#######&quot;}</pre></td></tr><tr><td><pre>8</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">Now the king has enough time to collect the gift and return to the queen. </td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;#######&quot;,
 &quot;#K.QGG#&quot;,
 &quot;#######&quot;}</pre></td></tr><tr><td><pre>9</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">The king collects the gift on the left when he visits that cell for the second time. </td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;#....G#&quot;, 
 &quot;###G###&quot;, 
 &quot;#K...Q#&quot;, 
 &quot;###.###&quot;, 
 &quot;#G..GG#&quot;}</pre></td></tr><tr><td><pre>50</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
