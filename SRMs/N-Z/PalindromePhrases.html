<html><body bgcolor="#ffffff" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>One of your friends has given you several words and asked you how many palindromic phrases you can compose with those words.  
To save yourself some time, you've decided to write a program to answer this question.  In this problem, a <i>word</i> is defined as a non-empty sequence
of lowercase letters ('a'-'z').  A <i>phrase</i> is a non-empty sequence of words, where each pair of consecutive words is separated with exactly one space character.  A phrase is <i>palindromic</i> if it reads the same forward and backward, ignoring space characters.
<br></br><br></br>
You are given a vector &lt;string&gt; <b>words</b>.  Return the number of different palindromic phrases that can be composed with the given words.  Each word in <b>words</b> can be used at most once within each phrase.  Two phrases are considered different if they are different strings, even if they read the same when ignoring spaces (for example, "a ba" and "ab a" are different phrases).</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>PalindromePhrases</td></tr><tr><td>Method:</td><td>getAmount</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;</td></tr><tr><td>Returns:</td><td>long long</td></tr><tr><td>Method signature:</td><td>long long getAmount(vector &lt;string&gt; words)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>words</b> will contain between 1 and 13 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>words</b> will contain between 1 and 13 lowercase letters ('a'-'z'), inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>All elements of <b>words</b> will be distinct.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;a&quot;,&quot;ba&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">You&nbsp;can&nbsp;construct&nbsp;two&nbsp;palindromic&nbsp;phrases&nbsp;"a"&nbsp;and&nbsp;"a&nbsp;ba".</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;ab&quot;,&quot;bcd&quot;,&quot;efg&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">No&nbsp;palindromic&nbsp;phrases&nbsp;can&nbsp;be&nbsp;built.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;a&quot;, &quot;bba&quot;, &quot;abb&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 7</pre></td></tr><tr><td><table><tr><td colspan="2">Here we have 7 palindromic phrases: "a", "a bba", "abb a", "abb bba", "bba abb", "abb a bba", "bba a abb".
Note that even though "a bba" and "abb a" represent the same palindrome, they differ as strings, so we count both of them.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;aabccc&quot;, &quot;ccbbca&quot;, &quot;a&quot;, &quot;acaabb&quot;, &quot;aaa&quot;, &quot;aab&quot;, &quot;c&quot;, &quot;babb&quot;, &quot;aacaa&quot;, &quot;b&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 47</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
